<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><link rel="canonical" href="https://asalvadorc.github.io/AD_Tema2/AD_T2_Gesti_del_contingut_de_fitxers/222__mtodes_del_writer/" />
      <link rel="shortcut icon" href="../../img/favicon.ico" />
    <title>2.2.2 - Mètodes del Writer - AD - Accés a Dades</title>
    <link rel="stylesheet" href="../../css/theme.css" />
    <link rel="stylesheet" href="../../css/theme_extra.css" />
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/styles/github.min.css" />
        <link href="../../css/extra.css" rel="stylesheet" />
    
      <script>
        // Current page data
        var mkdocs_page_name = "2.2.2 - M\u00e8todes del Writer";
        var mkdocs_page_input_path = "AD_T2_Gesti_del_contingut_de_fitxers/222__mtodes_del_writer.md";
        var mkdocs_page_url = "/AD_Tema2/AD_T2_Gesti_del_contingut_de_fitxers/222__mtodes_del_writer/";
      </script>
    
    <!--[if lt IE 9]>
      <script src="../../js/html5shiv.min.js"></script>
    <![endif]-->
      <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/highlight.min.js"></script>
      <script>hljs.highlightAll();</script> 
</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
    <div class="wy-side-scroll">
      <div class="wy-side-nav-search">
          <a href="../..">
          <img src="../../assets/logocaminas.png" class="logo" alt="Logo"/>
        </a><div role="search">
  <form id ="rtd-search-form" class="wy-form" action="../../search.html" method="get">
      <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" title="Type search term here" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption"><span class="caption-text">Tema 2- Gestió del contingut de fitxers</span></p>
              <ul class="current">
                  <li class="toctree-l1"><a class="reference internal" href="../objectius/">Objectius</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../1__magatzems_i_fluxos_de_dades/">1 - Magatzems i fluxos de dades</a>
                  </li>
                  <li class="toctree-l1 current"><a class="reference internal current" >2 - Manipulació dels fluxos de dades</a>
    <ul class="current">
                <li class="toctree-l2"><a class="reference internal" href="../2__manipulaci_dels_fluxos_de_dades/">2 - Manipulació dels fluxos de dades</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" >2.1 - Fluxos orientats a bytes</a>
    <ul>
                <li class="toctree-l3"><a class="reference internal" href="../21__fluxos_orientats_a_bytes/">2.1 - Fluxos orientats a bytes</a>
                </li>
                <li class="toctree-l3"><a class="reference internal" href="../211__mtodes_del_inputstream/">2.1.1 - Mètodes del InputStream</a>
                </li>
                <li class="toctree-l3"><a class="reference internal" href="../212__mtodes_del_outputstream/">2.1.2 - Mètodes del OutputStream</a>
                </li>
    </ul>
                </li>
                <li class="toctree-l2 current"><a class="reference internal current" >2.2 - Fluxos orientats a caràcters</a>
    <ul class="current">
                <li class="toctree-l3"><a class="reference internal" href="../22__fluxos_orientats_a_carcters/">2.2 - Fluxos orientats a caràcters</a>
                </li>
                <li class="toctree-l3"><a class="reference internal" href="../221__mtodes_del_reader/">2.2.1 - Mètodes del Reader</a>
                </li>
                <li class="toctree-l3 current"><a class="reference internal current" href="#">2.2.2 - Mètodes del Writer</a>
    <ul class="current">
    </ul>
                </li>
    </ul>
                </li>
    </ul>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" >3 - Fluxos decoradors</a>
    <ul>
                <li class="toctree-l2"><a class="reference internal" href="../3__fluxos_decoradors/">3 - Fluxos decoradors</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../31__decoradors_de_inputstream_i_otputstream/">3.1 - Decoradors de InputStream i OtputStream</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../32__decoradors_de_reader_i_writer/">3.2 - Decoradors de Reader i Writer</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../33__conversors_inputstreamreader_i_outputstreamwriter/">3.3 - ConversorsInputStreamReader i OutputStreamWriter</a>
                </li>
    </ul>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../4__simplificaci_en_kotlin/">4 - Simplificació en Kotlin</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../exercicis/">Exercicis</a>
                  </li>
              </ul>
      </div>
    </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">
      <nav class="wy-nav-top" role="navigation" aria-label="Mobile navigation menu">
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../..">AD - Accés a Dades</a>
        
      </nav>
      <div class="wy-nav-content">
        <div class="rst-content"><div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../.." class="icon icon-home" aria-label="Docs"></a></li>
          <li class="breadcrumb-item">Tema 2- Gestió del contingut de fitxers</li>
          <li class="breadcrumb-item">2 - Manipulació dels fluxos de dades</li>
          <li class="breadcrumb-item">2.2 - Fluxos orientats a caràcters</li>
      <li class="breadcrumb-item active">2.2.2 - Mètodes del Writer</li>
    <li class="wy-breadcrumbs-aside">
    </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
            <div class="section" itemprop="articleBody">
              
                <h1 id="222-metodes-del-writer">2.2.2 - Mètodes del Writer</h1>
<p>Comencem també pel més senzill i primordial, el mètode que escriu un caràcter.</p>
<ul>
<li>void <strong>write(<em>car</em> : Int) </strong>: escriu el caràcter passat com a paràmetre en el flux d'eixida. En cas que siga un FileWriter, escriurà el caràcter amb la codificació per defecte del S.O. : en Windows ISO-8839 i en Linux UTF-8. Si no es poguera fer l'escriptura per qualsevol motiu (per exemple, disc ple), es llançarà una excepció de tipus <strong>IOException</strong>.</li>
</ul>
<p>Igual que en l'apartat anterior, anem a veure un exemple senzill
d'utilització, en el qual guardarem en un fitxer el contingut d'una cadena,
ara ja sense por als caràcters estranys.</p>
<p>En aquest primer exemple del <strong>Writer</strong> treballarem sobre un fitxer
inexistent. Es podrà comprovar que el resultat serà la creació del fitxer amb
el contingut. Copieu el següent codi en un fitxer anomenat <strong>Exemple_2_31.kt</strong>
:</p>
<p><u><strong>Nota</strong></u></p>
<div style="background-color: #d6eaf8; color: black; padding: 5px;">
Hem de fer constar que si no es tanca el fitxer (millor dit el flux d'eixida)
podria ser que no es guardara res en el fitxer. Per tant és una operació ben
important que no hem d'oblidar.
</div>
<p></p>

<pre><code>package exemples

import java.io.FileWriter

fun main(args: Array&lt;String&gt;) {
    val text = "Contingut per al fitxer. Ara ja sense por a caràcters especials: ç, à, ú, ..."
    val f_out = FileWriter ("f5.txt")
    for (c in text) {
        f_out.write(c.toInt())
    }
    f_out.close()
}
</code></pre>
<p>En el constructor del <strong>Writer</strong> no hem indicat el segon paràmetre, aquell que
indicava si era per a afegir o no, i per tant si no existia el fitxer el
crearà, però si ja existia el fitxer, destruirà el seu contingut i el
substituirà pel nou contingut. Per això si tornem a executar el programa,
tindrem el mateix resultat en <strong>f5.txt</strong></p>
<pre><code>Contingut per al fitxer. Ara ja sense por a caràcters especials: ç, à, ú, ...
</code></pre>
<p>Anem a provar a substituir el constructor, posant ara</p>
<pre><code>val f_out = FileWriter ("f5.txt", true)
</code></pre>
<p>Si l'executem, veurem que afegirà al final, sense destruir el que ja hi havia.</p>
<pre><code>Contingut per al fitxer. Ara ja sense por a caràcters especials: ç, à, ú, ...Contingut per al fitxer. Ara ja sense por a caràcters especials: ç, à, ú, ...
</code></pre>
<p>Altres mètodes del <strong>Writer</strong> són:</p>
<ul>
<li>void <strong>write(<em>buffer</em> : CharArray)</strong> : escriu el contingut de l'array de caràcters al fitxer. Cal que buffer no siga nul, o provocarem un error.</li>
<li>void <strong>write(<em>buffer: CharArray</em> , <em>pos</em> : Int, <em>llarg</em> : Int)</strong> : escriu al fitxer el contingut de l'array que està a partir de la posició <strong>pos</strong> i tants caràcters com assenyale <strong>llarg</strong>.</li>
<li>void <strong>flush()</strong> : Guardar les dades en un fitxer és una operació relativament lenta, ja que és accedir a un dispositiu lent (millor dit, no tan ràpid com la memòria). És habitual que s'utilitze una memòria intermèdia per a que les coses no vagen tan lentes (com si fóra una caché). Però potser que les dades no estiguen guardades encara en el fitxer, sinó que encara estiguen en aquesta caché. El mètode <strong>flush</strong> obliga a escriure els caràcters que queden encara a la caché físicament al fitxer d'eixida.</li>
<li>void <strong>close()</strong> : tanca el flux d'eixida, alliberant els recursos. Si quedava alguna cosa en la caché, es guardarà al fitxer i es tancarà el flux.</li>
</ul>
<p>Aquestos mètodes són totalment similars als del OutputStream. A banda
d'aquestos, el <strong>Writer</strong> té un altre, que pot ser especialment útil per a
caràcters:</p>
<ul>
<li>void <strong>write(<em>text</em> : String)</strong> : escriu tot el contingut del String en el fitxer.</li>
</ul>
<p>Llicenciat sota la  <a href="http://creativecommons.org/licenses/by-nc-sa/2.5/">Llicència Creative Commons Reconeixement NoComercial
CompartirIgual 2.5</a></p>
              
            </div>
          </div><footer>
    <div class="rst-footer-buttons" role="navigation" aria-label="Footer Navigation">
        <a href="../221__mtodes_del_reader/" class="btn btn-neutral float-left" title="2.2.1 - Mètodes del Reader"><span class="icon icon-circle-arrow-left"></span> Previous</a>
        <a href="../3__fluxos_decoradors/" class="btn btn-neutral float-right" title="3 - Fluxos decoradors">Next <span class="icon icon-circle-arrow-right"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <!-- Copyright etc -->
  </div>

  Built with <a href="https://www.mkdocs.org/">MkDocs</a> using a <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
</footer>
          
        </div>
      </div>

    </section>

  </div>

  <div class="rst-versions" role="note" aria-label="Versions">
  <span class="rst-current-version" data-toggle="rst-current-version">
    
    
      <span><a href="../221__mtodes_del_reader/" style="color: #fcfcfc">&laquo; Previous</a></span>
    
    
      <span><a href="../3__fluxos_decoradors/" style="color: #fcfcfc">Next &raquo;</a></span>
    
  </span>
</div>
    <script src="../../js/jquery-3.6.0.min.js"></script>
    <script>var base_url = "../..";</script>
    <script src="../../js/theme_extra.js"></script>
    <script src="../../js/theme.js"></script>
      <script src="../../search/main.js"></script>
    <script>
        jQuery(function () {
            SphinxRtdTheme.Navigation.enable(true);
        });
    </script>

</body>
</html>
