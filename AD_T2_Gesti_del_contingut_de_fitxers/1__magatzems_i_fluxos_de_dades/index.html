<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><link rel="canonical" href="https://asalvadorc.github.io/AD_Tema2/AD_T2_Gesti_del_contingut_de_fitxers/1__magatzems_i_fluxos_de_dades/" />
      <link rel="shortcut icon" href="../../img/favicon.ico" />
    <title>1 - Magatzems i fluxos de dades - AD - Accés a Dades</title>
    <link rel="stylesheet" href="../../css/theme.css" />
    <link rel="stylesheet" href="../../css/theme_extra.css" />
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/styles/github.min.css" />
        <link href="../../css/extra.css" rel="stylesheet" />
    
      <script>
        // Current page data
        var mkdocs_page_name = "1 - Magatzems i fluxos de dades";
        var mkdocs_page_input_path = "AD_T2_Gesti_del_contingut_de_fitxers/1__magatzems_i_fluxos_de_dades.md";
        var mkdocs_page_url = "/AD_Tema2/AD_T2_Gesti_del_contingut_de_fitxers/1__magatzems_i_fluxos_de_dades/";
      </script>
    
    <!--[if lt IE 9]>
      <script src="../../js/html5shiv.min.js"></script>
    <![endif]-->
      <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/highlight.min.js"></script>
      <script>hljs.highlightAll();</script> 
</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
    <div class="wy-side-scroll">
      <div class="wy-side-nav-search">
          <a href="../..">
          <img src="../../assets/logocaminas.png" class="logo" alt="Logo"/>
        </a><div role="search">
  <form id ="rtd-search-form" class="wy-form" action="../../search.html" method="get">
      <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" title="Type search term here" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption"><span class="caption-text">Tema 2- Gestió del contingut de fitxers</span></p>
              <ul class="current">
                  <li class="toctree-l1"><a class="reference internal" href="../objectius/">Objectius</a>
                  </li>
                  <li class="toctree-l1 current"><a class="reference internal current" href="#">1 - Magatzems i fluxos de dades</a>
    <ul class="current">
    </ul>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" >2 - Manipulació dels fluxos de dades</a>
    <ul>
                <li class="toctree-l2"><a class="reference internal" href="../2__manipulaci_dels_fluxos_de_dades/">2 - Manipulació dels fluxos de dades</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" >2.1 - Fluxos orientats a bytes</a>
    <ul>
                <li class="toctree-l3"><a class="reference internal" href="../21__fluxos_orientats_a_bytes/">2.1 - Fluxos orientats a bytes</a>
                </li>
                <li class="toctree-l3"><a class="reference internal" href="../211__mtodes_del_inputstream/">2.1.1 - Mètodes del InputStream</a>
                </li>
                <li class="toctree-l3"><a class="reference internal" href="../212__mtodes_del_outputstream/">2.1.2 - Mètodes del OutputStream</a>
                </li>
    </ul>
                </li>
                <li class="toctree-l2"><a class="reference internal" >2.2 - Fluxos orientats a caràcters</a>
    <ul>
                <li class="toctree-l3"><a class="reference internal" href="../22__fluxos_orientats_a_carcters/">2.2 - Fluxos orientats a caràcters</a>
                </li>
                <li class="toctree-l3"><a class="reference internal" href="../221__mtodes_del_reader/">2.2.1 - Mètodes del Reader</a>
                </li>
                <li class="toctree-l3"><a class="reference internal" href="../222__mtodes_del_writer/">2.2.2 - Mètodes del Writer</a>
                </li>
    </ul>
                </li>
    </ul>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" >3 - Fluxos decoradors</a>
    <ul>
                <li class="toctree-l2"><a class="reference internal" href="../3__fluxos_decoradors/">3 - Fluxos decoradors</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../31__decoradors_de_inputstream_i_otputstream/">3.1 - Decoradors de InputStream i OtputStream</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../32__decoradors_de_reader_i_writer/">3.2 - Decoradors de Reader i Writer</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../33__conversors_inputstreamreader_i_outputstreamwriter/">3.3 - ConversorsInputStreamReader i OutputStreamWriter</a>
                </li>
    </ul>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../4__simplificaci_en_kotlin/">4 - Simplificació en Kotlin</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../exercicis/">Exercicis</a>
                  </li>
              </ul>
      </div>
    </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">
      <nav class="wy-nav-top" role="navigation" aria-label="Mobile navigation menu">
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../..">AD - Accés a Dades</a>
        
      </nav>
      <div class="wy-nav-content">
        <div class="rst-content"><div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../.." class="icon icon-home" aria-label="Docs"></a></li>
          <li class="breadcrumb-item">Tema 2- Gestió del contingut de fitxers</li>
      <li class="breadcrumb-item active">1 - Magatzems i fluxos de dades</li>
    <li class="wy-breadcrumbs-aside">
    </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
            <div class="section" itemprop="articleBody">
              
                <h1 id="1-magatzems-i-fluxos-de-dades">1 - Magatzems i fluxos de dades</h1>
<p>En la major part de programes necessitem guardar informació de forma
permanent, de manera que perduren, encara que finalitze l'execució del
programa, o que servesquen de dades inicials. Els fitxers ens proporcionen la
forma més senzilla de guardar informació.</p>
<p>En el tema anterior vam veure com poder accedir tant a un directori com a un
fitxer, però no vam accedir al contingut d'aquestos. Dels fitxers només podíem
veure les seues característiques externes: nom, tipus, permisos, grandària,
... Però en cap moment vam accedir al seu contingut. Serà el que veurem en
aquest tema.</p>
<p>En un fitxer, com dèiem, quedarà guardada la informació de forma permanent.
Serà una <strong>seqüència de bits</strong> , un darrere de l'altre que representaran les
dades guardades, bé siguen caràcters d'un text, dades numériques, o els bytes
d'una imatge, per exemple. Aquesta seqüència de bits ens aporta una visió
estàtica de les dades, ja que queden guardades al llarg del temps.</p>
<p>Posant un exemple clàssic, els pantans i dipòsits on s'emmagatzema l'aigua
serien comparables als fitxers. Però per a nosaltres aquestos pantans i
dipòsits queden lluny. I quan parlem d'aigua corrent tenim més tendència a
pensar en les canonades i aixetes que ens porten aquesta aigua emmagatzemada
fins a nosaltres. Doncs de forma similar, des del punt de vista de
l’aplicació, el que realment cobra importància és la transferència de dades,
més que el magatzem, que arriben aquestes dades a l'aplicació o que
l'aplicació les puga transferir fins al fitxer. L’eina que ens permet
controlar aquestes transferències, de forma similar a les aixetes i canonades,
l’anomenem <strong>flux de dades</strong>. És un concepte associat a la transmissió
seqüencial d’una sèrie de dades des de l’aplicació al dispositiu
d’emmagatzematge o a l’inrevés. Ens dóna una visió eminentment dinàmica de la
informació.</p>
<p><img alt="streams.png" src="../flujos.png" /></p>
<p>Java utilitza els <strong>streams</strong> (fluxos de dades) per a poder accedir a la
informació. Però els <em>streams</em> no limiten la transferència de dades d'un
fitxer, sinó que es generalitza per a qualsevol font de dades: memòria, xarxa,
fins i tot altres aplicacions. D'aquesta manera es generalitza l'accés a la
informació des de qualsevol procedència: si connectem un stream a un fitxer,
estarem accedint a un fitxer, però si connectem el stream a un altre programa
estarem accedint a les dades proporcionades per un altre programa. Intentarem
veure exemples d'accés a diferents fonts a través d'un stream, però ho
aplicarem sobretot a l'accés a fitxers, clar.</p>
<p><code>Fluxos d'entrada i d'eixida</code></p>
<p>La primera diferenciació que farem en els fluxos de dades és si són d'entrada
o d'eixida:</p>
<ul>
<li><strong>Fluxos d'entrada</strong> són aquells que serviran per introduir dades des de l'exterior al programa, és a dir a la zona de memòria controlada pel programa (variables, ...)</li>
<li><strong>Fluxos d'eixida</strong> són aquells que serviran per a guardar les dades des de les variables del programa fins a l'exterior, per exemple un fitxer, per a que es guarden de forma permanent.</li>
</ul>
<p><code>Fluxos i tipus de dades</code></p>
<p>Per mig del stream aconseguirem que una dada es guarde en un fitxer, o millor
dit una sèrie de dades. Quan guardem moltes dades, es compactaran unes al
costat de les altres (el que havíem comentat com a seqüenciació de bits). Si
intentem recuperar-les, haurem d'anar amb molt de compte amb la grandària de
cadascuna de les dades i el seu tipus. Anem a posar un exemple:</p>
<ul>
<li>Suposem que volem guardar una dada numèrica en un enter (<strong>int</strong>). Els enters, en Java, es guarden en 32 bits. Si volem guardar el número <strong>1.213.156.417</strong> , ens quedarà en binari (els hem posat en grups de 8 bits, per facilitar la lectura):</li>
</ul>
<p>01001000 01001111 01001100 01000001</p>
<ul>
<li>Suposem ara que volem guardar dos números enters, però del tipus <strong>short</strong> , que només ocupa 16 bits. El número 18.511 es representa en binari com 01001000 01001111, i el número 19.521 es representa 01001100 01000001. Si posem una dada darrere de l'altra (com es guardarà en un fitxer), el resultat serà:</li>
</ul>
<p>01001000 01001111 01001100 01000001</p>
<ul>
<li>Suposem ara que volem guardar la paraula HOLA. Si guardem el codi ASCII de cada lletra tindrem: <strong>H</strong> (01001000), <strong>O</strong> (01001111),<strong>L</strong> (01001100) i <strong>A</strong> (01000001)</li>
</ul>
<p>01001000 01001111 01001100 01000001</p>
<p>En resum, les 3 informacions (el número de 32 bits, els 2 números de 16 bits,
i la paraula HOLA) es guarden de forma idèntica, com a seqüència de bits.</p>
<p>Per tant, l'única manera de poder recuperar la informació és saber de quin
tipus és i la mida, a banda de l'ordre com està guardada, clar. Els fluxos de
dades de Java transfereixen les dades de manera transparent al programador. No
cal indicar la quantitat de bits que cal transferir, sinó que es dedueix a
partir del tipus de dada que la variable representa. Però sempre haurem de
tenir present el tipus de dades i l'ordre.</p>
<p>Hi ha, però, una excepció amb el tipus <em>char</em>. La multitud d’estàndards de
codificació de caràcters existents en l’actualitat i la diversitat de formats
utilitzats a l’hora d’implementar les codificacions, usant segons el cas 8,
16, 32 bits o fins i tot una longitud variable en funció del caràcter a
representar, fan que siga molt difícil tractar aquest tipus de dades com una
simple seqüència de bytes.</p>
<p>Internament, Java representa el tipus caràcter amb una codificació UNICODE de
16 bits (UTF-16) per tal de suportar múltiples alfabets a banda de
l’occidental. Tot i així, és capaç de gestionar fonts de dades (fitxers entre
d’altres) de diverses codificacions (ASCII, ISO-8859, UTF-8, UTF-16…). En
funció de la codificació triada, el número de bits utilitzats en
l’emmagatzematge variarà. Es fa necessari, doncs, un tractament especial a
l’hora de manipular aquestes dades. Com veurem, Java disposa d’una jerarquia
específica de classes orientades a fluxos de caràcters per tal de fer aquestos
canvis i transformacions totalment transparents al programador.</p>
<p>Llicenciat sota la  <a href="http://creativecommons.org/licenses/by-nc-sa/2.5/">Llicència Creative Commons Reconeixement NoComercial
CompartirIgual 2.5</a></p>
              
            </div>
          </div><footer>
    <div class="rst-footer-buttons" role="navigation" aria-label="Footer Navigation">
        <a href="../objectius/" class="btn btn-neutral float-left" title="Objectius"><span class="icon icon-circle-arrow-left"></span> Previous</a>
        <a href="../2__manipulaci_dels_fluxos_de_dades/" class="btn btn-neutral float-right" title="2 - Manipulació dels fluxos de dades">Next <span class="icon icon-circle-arrow-right"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <!-- Copyright etc -->
  </div>

  Built with <a href="https://www.mkdocs.org/">MkDocs</a> using a <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
</footer>
          
        </div>
      </div>

    </section>

  </div>

  <div class="rst-versions" role="note" aria-label="Versions">
  <span class="rst-current-version" data-toggle="rst-current-version">
    
    
      <span><a href="../objectius/" style="color: #fcfcfc">&laquo; Previous</a></span>
    
    
      <span><a href="../2__manipulaci_dels_fluxos_de_dades/" style="color: #fcfcfc">Next &raquo;</a></span>
    
  </span>
</div>
    <script src="../../js/jquery-3.6.0.min.js"></script>
    <script>var base_url = "../..";</script>
    <script src="../../js/theme_extra.js"></script>
    <script src="../../js/theme.js"></script>
      <script src="../../search/main.js"></script>
    <script>
        jQuery(function () {
            SphinxRtdTheme.Navigation.enable(true);
        });
    </script>

</body>
</html>
